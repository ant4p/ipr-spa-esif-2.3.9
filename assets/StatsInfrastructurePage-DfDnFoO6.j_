import{Q as k}from"./QSpinnerDots-B_-BC47s.js";import{Q as C}from"./QDialog-DwvcyMya.js";import{u as D}from"./useK8Data-BuIaItK5.js";import{Q as I,C as V}from"./ClosePopup-ByZL18Fk.js";import{a6 as j,a7 as $,a8 as r,a9 as n,ab as a,Z as S,an as B,ak as p,aF as K,ap as t,ae as l,z as T,ad as _,H as q,Y as z,aq as m,ax as H,ar as L,bv as M}from"./index-Bhl6SETv.js";import{Q as v}from"./QCardSection-CIRpBG4M.js";import{Q}from"./QBadge-ieUTSvzt.js";import{Q as h}from"./QCard-4hNWPW3w.js";import{a as b}from"./utils-DcLltcr4.js";import{Q as N}from"./QTooltip-D8T5Kzqq.js";import{Q as F}from"./QSeparator-BwTGVoGv.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./use-tick-0DdASRGW.js";import"./use-model-toggle-DypRWqPB.js";import"./position-engine-CD8Qv4MV.js";import"./use-dark-CCCGl-by.js";import"./format-hlGAdIUH.js";const P={class:"text-primary text-h5 text-uppercase"},E={class:"q-px-xs"},R={class:"row items-start justify-start q-gutter-md"},U={class:"col-xs-12 col-md-4"},Y={class:"q-mb-md"},Z={class:"q-pt-sm q-px-sm"},A={class:"q-mb-md"},G={class:"q-pt-sm q-px-sm"},J={class:"q-mb-md"},W={class:"q-pt-sm q-px-sm"},X={class:"q-mb-md"},tt={class:"q-pt-sm q-px-sm"},st={class:"q-mb-md"},et={class:"q-pt-sm q-px-sm"},ot={class:"q-mb-md"},at={class:"q-pt-sm q-px-sm"},it={class:"col-xs-12 col-md-7"},lt=["innerHTML"],rt=j({__name:"InfrastructureItemView",props:{item:{}},emits:["view-item-dialog-open"],setup(g){return(o,s)=>(r(),$(h,{class:"bg-grey-2 q-px-sm",style:{"min-height":"600px"}},{default:n(()=>[a(v,{class:"row items-center q-pb-none"},{default:n(()=>[a(I),S(a(B,{icon:p(K),class:"float-right",dense:"",flat:"",round:"",onClick:s[0]||(s[0]=c=>o.$emit("view-item-dialog-open",!1))},null,8,["icon"]),[[V]])]),_:1}),a(v,null,{default:n(()=>[t("div",null,[t("span",P,l(o.item.object_name),1),t("span",E,[a(Q,{color:o.item.project_status==="Реализуется"?"info":"positive",label:o.item.project_status,outline:o.item.project_status==="Реализуется",align:"top"},null,8,["color","label","outline"])])])]),_:1}),a(v,null,{default:n(()=>[t("div",R,[t("div",U,[t("div",Y,[s[1]||(s[1]=t("span",{class:"bg-grey-3 q-pa-sm text-primary"}," Инициатор объекта (проекта) ",-1)),t("div",Z,l(o.item.object_initiator),1)]),t("div",A,[s[2]||(s[2]=t("span",{class:"bg-grey-3 q-pa-sm text-primary"}," Тип объекта (проекта) ",-1)),t("div",G,l(o.item.object_type_name),1)]),t("div",J,[s[3]||(s[3]=t("span",{class:"bg-grey-3 q-pa-sm text-primary"}," Отрасль ",-1)),t("div",W,l(o.item.segm),1)]),t("div",X,[s[4]||(s[4]=t("span",{class:"bg-grey-3 q-pa-sm text-primary"}," Дата начала реализации ",-1)),t("div",tt,l(p(b)(o.item.object_date_start)),1)]),t("div",st,[s[5]||(s[5]=t("span",{class:"bg-grey-3 q-pa-sm text-primary"}," Дата окончания реализации ",-1)),t("div",et,l(p(b)(o.item.object_date_end)),1)]),t("div",ot,[s[6]||(s[6]=t("span",{class:"bg-grey-3 q-pa-sm text-primary"}," Источник ",-1)),t("div",at,l(o.item.object_source),1)])]),t("div",it,[t("div",null,[s[7]||(s[7]=t("span",{class:"bg-grey-3 q-pa-sm text-primary"}," Описание объекта (проекта) ",-1)),t("div",{class:"q-pt-sm q-px-sm",innerHTML:o.item.object_description},null,8,lt)])])])]),_:1})]),_:1}))}}),nt={class:"text-subtitle1 text-bold infrastructure-card-title"},mt={class:"text-caption text-grey-8 q-mb-sm"},dt={class:"text-caption text-grey-8"},pt={class:"text-caption text-grey-8"},ct={class:"text-caption text-grey-8"},ut=j({__name:"K8Card",props:{item:{}},emits:["click"],setup(g,{emit:o}){const s=g,c=T(()=>{const i=b(s.item.object_date_start),e=b(s.item.object_date_end);return`${i} – ${e}`}),x=o;return(i,e)=>(r(),$(h,{bordered:"",flat:"",class:"full-height rea-border-grey rea-shadow cursor-pointer infrastructure-card",onClick:e[0]||(e[0]=y=>x("click"))},{default:n(()=>[a(v,null,{default:n(()=>[t("div",nt,[_(l(i.item.object_name)+" ",1),a(N,null,{default:n(()=>[_(l(i.item.object_name),1)]),_:1})]),a(Q,{color:i.item.project_status==="Реализуется"?"info":"positive",label:i.item.project_status,outline:i.item.project_status==="Реализуется",align:"top"},null,8,["color","label","outline"])]),_:1}),a(F,{inset:""}),a(v,null,{default:n(()=>[t("div",mt,[e[1]||(e[1]=t("span",{class:"text-bold"},"Период:",-1)),_(" "+l(c.value),1)]),t("div",dt,[e[2]||(e[2]=t("span",{class:"text-bold"},"Инициатор:",-1)),_(" "+l(i.item.object_initiator),1)]),t("div",pt,[e[3]||(e[3]=t("span",{class:"text-bold"},"Тип:",-1)),_(" "+l(i.item.object_type_name),1)]),t("div",ct,[e[4]||(e[4]=t("span",{class:"text-bold"},"Отрасль:",-1)),_(" "+l(i.item.segm),1)])]),_:1})]),_:1}))}}),_t=O(ut,[["__scopeId","data-v-ae22294f"]]),ft={key:0},vt={key:0,class:"row q-col-gutter-md"},gt={key:1,class:"flex flex-center text-grey-6"},bt={key:1,class:"flex flex-center text-grey-6"},xt={key:2,class:"flex flex-center"},Lt=j({__name:"StatsInfrastructurePage",props:{id:{}},setup(g){const o=g,{loading:s,error:c,fetchK8RegionData:x}=D(),i=q([]),e=q(!1),y=q(),w=f=>{f&&(y.value=f,e.value=!0)};return z(async()=>{const f=await x(o.id);i.value=f[0]?.infrastructure||[]}),(f,u)=>(r(),m("div",null,[u[2]||(u[2]=t("div",{class:"text-h5 text-info q-mb-md"}," Инновационная инфраструктура региона ",-1)),!p(s)&&!p(c)?(r(),m("div",ft,[i.value.length>0?(r(),m("div",vt,[(r(!0),m(H,null,L(i.value,d=>(r(),m("div",{key:d.segm,class:"col-xs-12 col-md-6 col-lg-4 col-xl-3"},[a(_t,{item:d,onClick:yt=>w(d)},null,8,["item","onClick"])]))),128)),a(C,{modelValue:e.value,"onUpdate:modelValue":u[1]||(u[1]=d=>e.value=d),"full-height":"","full-width":""},{default:n(()=>[(r(),$(M,null,{fallback:n(()=>[a(k,{color:"primary",size:"xl"})]),default:n(()=>[a(rt,{item:y.value,onViewItemDialogOpen:u[0]||(u[0]=d=>e.value=d)},null,8,["item"])]),_:1}))]),_:1},8,["modelValue"])])):(r(),m("div",gt," Данные об инновационной инфраструктуре региона не найдены "))])):p(c)?(r(),m("div",bt,l(p(c)),1)):(r(),m("div",xt,[a(k,{color:"primary",size:"xl"})]))]))}});export{Lt as default};
