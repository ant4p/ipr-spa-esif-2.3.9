import{Q as Fe}from"./QSpinnerDots-B_-BC47s.js";import{a6 as ue,H as P,aq as L,a8 as F,ap as T,ab as f,a9 as y,ad as X,ak as _,aE as me,an as ve,Z as Ee,aF as Te,ax as _e,I as B,X as ne,aH as Qe,z as E,y as ge,C as Me,U as ye,J as Se,Y as ce,A as K,aI as Re,B as Ae,a1 as ke,aJ as ze,aK as Ie,aL as $e,a5 as Oe,a7 as Y,aa as se,ae as H,ac as G,aM as Pe,aN as Be,D as De,aO as Le,a4 as Ne,aP as je,al as He,af as Ke,aQ as Ue,aR as Ze,am as Ye,aS as be,aT as Je,ar as We,aU as Xe,aV as Ge}from"./index-Bhl6SETv.js";import{Q as et}from"./QBanner-Bh0a8mRE.js";import{Q as tt,a as at}from"./QTabs-BG5OmQU2.js";import{Q as J}from"./QCardSection-CIRpBG4M.js";import{Q as de}from"./QCard-4hNWPW3w.js";import{Q as Ce}from"./QTooltip-D8T5Kzqq.js";import{Q as lt}from"./QPage-DAomX7La.js";import{Q as nt,C as rt}from"./ClosePopup-ByZL18Fk.js";import{Q as ot,b as st,r as it}from"./QDialog-DwvcyMya.js";import{u as ut,a as ct,b as dt,c as ft,f as pe,d as mt,e as vt,g as gt,h as ht,i as yt}from"./use-key-composition-D1-Dj3qO.js";import{d as kt,s as bt,g as pt}from"./position-engine-CD8Qv4MV.js";import{Q as wt}from"./QSeparator-BwTGVoGv.js";import{Q as xt}from"./QList-Bzp8q5wm.js";import{u as _t,a as Mt}from"./use-dark-CCCGl-by.js";import{Q as St,a as Ct,b as fe}from"./QItem-DIgVajpF.js";import{Q as qt}from"./QExpansionItem-DbF2WVJd.js";import{_ as he}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./uid-Bzmka5Fh.js";import"./rtl-ByL7cAmv.js";import"./use-tick-0DdASRGW.js";import"./use-model-toggle-DypRWqPB.js";import"./use-id-CTOrvLVL.js";const Vt={class:"absolute gt-xs",style:{top:"1.5rem",right:"1.5rem"}},Ft=ue({__name:"AboutSMButton",setup(e){const r=P(!1);return(h,o)=>(F(),L(_e,null,[T("div",Vt,[f(ve,{icon:_(me),color:"accent",dense:"",flat:"",round:"",size:"md",onClick:o[0]||(o[0]=c=>r.value=!r.value)},{default:y(()=>[f(Ce,null,{default:y(()=>o[3]||(o[3]=[X(" Источник: «Агрегатор инструментов развития» в домене «Наука и инновации» ")])),_:1})]),_:1},8,["icon"])]),f(ot,{modelValue:r.value,"onUpdate:modelValue":o[2]||(o[2]=c=>r.value=c)},{default:y(()=>[f(de,{class:"bg-grey-2 q-px-sm",style:{"min-width":"50vw"}},{default:y(()=>[f(J,{class:"row items-center q-pb-none"},{default:y(()=>[f(nt),Ee(f(ve,{icon:_(Te),class:"float-right",dense:"",flat:"",round:"",onClick:o[1]||(o[1]=c=>r.value=!1)},null,8,["icon"]),[[rt]])]),_:1}),f(J,null,{default:y(()=>o[4]||(o[4]=[T("div",{class:"text-subtitle1"}," Перечень мер и инструментов государственной поддержки в сфере научно-технологического развития получен через сервис «Агрегатор инструментов развития» в домене «Наука и инновации» (запрос от 20.02.2025 г.). ",-1)])),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}}),we={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},ie={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},qe=Object.keys(ie);qe.forEach(e=>{ie[e].regex=new RegExp(ie[e].pattern)});const Et=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+qe.join("")+"])|(.)","g"),xe=/[.*+?^${}()|[\]\\]/g,q="",Tt={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function Qt(e,r,h,o){let c,d,w,S,Q,i;const v=P(null),s=P(A());function R(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}B(()=>e.type+e.autogrow,D),B(()=>e.mask,n=>{if(n!==void 0)I(s.value,!0);else{const a=$(s.value);D(),e.modelValue!==a&&r("update:modelValue",a)}}),B(()=>e.fillMask+e.reverseFillMask,()=>{v.value===!0&&I(s.value,!0)}),B(()=>e.unmaskedValue,()=>{v.value===!0&&I(s.value)});function A(){if(D(),v.value===!0){const n=ae($(e.modelValue));return e.fillMask!==!1?oe(n):n}return e.modelValue}function N(n){if(n<c.length)return c.slice(-n);let a="",u=c;const l=u.indexOf(q);if(l!==-1){for(let g=n-u.length;g>0;g--)a+=q;u=u.slice(0,l)+a+u.slice(l)}return u}function D(){if(v.value=e.mask!==void 0&&e.mask.length!==0&&R(),v.value===!1){S=void 0,c="",d="";return}const n=we[e.mask]===void 0?e.mask:we[e.mask],a=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",u=a.replace(xe,"\\$&"),l=[],g=[],m=[];let M=e.reverseFillMask===!0,k="",b="";n.replace(Et,(V,t,x,j,O)=>{if(j!==void 0){const z=ie[j];m.push(z),b=z.negate,M===!0&&(g.push("(?:"+b+"+)?("+z.pattern+"+)?(?:"+b+"+)?("+z.pattern+"+)?"),M=!1),g.push("(?:"+b+"+)?("+z.pattern+")?")}else if(x!==void 0)k="\\"+(x==="\\"?"":x),m.push(x),l.push("([^"+k+"]+)?"+k+"?");else{const z=t!==void 0?t:O;k=z==="\\"?"\\\\\\\\":z.replace(xe,"\\\\$&"),m.push(z),l.push("([^"+k+"]+)?"+k+"?")}});const W=new RegExp("^"+l.join("")+"("+(k===""?".":"[^"+k+"]")+"+)?"+(k===""?"":"["+k+"]*")+"$"),Z=g.length-1,p=g.map((V,t)=>t===0&&e.reverseFillMask===!0?new RegExp("^"+u+"*"+V):t===Z?new RegExp("^"+V+"("+(b===""?".":b)+"+)?"+(e.reverseFillMask===!0?"$":u+"*")):new RegExp("^"+V));w=m,S=V=>{const t=W.exec(e.reverseFillMask===!0?V:V.slice(0,m.length+1));t!==null&&(V=t.slice(1).join(""));const x=[],j=p.length;for(let O=0,z=V;O<j;O++){const le=p[O].exec(z);if(le===null)break;z=z.slice(le.shift().length),x.push(...le)}return x.length!==0?x.join(""):V},c=m.map(V=>typeof V=="string"?V:q).join(""),d=c.split(q).join(a)}function I(n,a,u){const l=o.value,g=l.selectionEnd,m=l.value.length-g,M=$(n);a===!0&&D();const k=ae(M),b=e.fillMask!==!1?oe(k):k,W=s.value!==b;l.value!==b&&(l.value=b),W===!0&&(s.value=b),document.activeElement===l&&ne(()=>{if(b===d){const p=e.reverseFillMask===!0?d.length:0;l.setSelectionRange(p,p,"forward");return}if(u==="insertFromPaste"&&e.reverseFillMask!==!0){const p=l.selectionEnd;let V=g-1;for(let t=Q;t<=V&&t<p;t++)c[t]!==q&&V++;C.right(l,V);return}if(["deleteContentBackward","deleteContentForward"].indexOf(u)!==-1){const p=e.reverseFillMask===!0?g===0?b.length>k.length?1:0:Math.max(0,b.length-(b===d?0:Math.min(k.length,m)+1))+1:g;l.setSelectionRange(p,p,"forward");return}if(e.reverseFillMask===!0)if(W===!0){const p=Math.max(0,b.length-(b===d?0:Math.min(k.length,m+1)));p===1&&g===1?l.setSelectionRange(p,p,"forward"):C.rightReverse(l,p)}else{const p=b.length-m;l.setSelectionRange(p,p,"backward")}else if(W===!0){const p=Math.max(0,c.indexOf(q),Math.min(k.length,g)-1);C.right(l,p)}else{const p=g-1;C.right(l,p)}});const Z=e.unmaskedValue===!0?$(b):b;String(e.modelValue)!==Z&&(e.modelValue!==null||Z!=="")&&h(Z,!0)}function ee(n,a,u){const l=ae($(n.value));a=Math.max(0,c.indexOf(q),Math.min(l.length,a)),Q=a,n.setSelectionRange(a,u,"forward")}const C={left(n,a){const u=c.slice(a-1).indexOf(q)===-1;let l=Math.max(0,a-1);for(;l>=0;l--)if(c[l]===q){a=l,u===!0&&a++;break}if(l<0&&c[a]!==void 0&&c[a]!==q)return C.right(n,0);a>=0&&n.setSelectionRange(a,a,"backward")},right(n,a){const u=n.value.length;let l=Math.min(u,a+1);for(;l<=u;l++)if(c[l]===q){a=l;break}else c[l-1]===q&&(a=l);if(l>u&&c[a-1]!==void 0&&c[a-1]!==q)return C.left(n,u);n.setSelectionRange(a,a,"forward")},leftReverse(n,a){const u=N(n.value.length);let l=Math.max(0,a-1);for(;l>=0;l--)if(u[l-1]===q){a=l;break}else if(u[l]===q&&(a=l,l===0))break;if(l<0&&u[a]!==void 0&&u[a]!==q)return C.rightReverse(n,0);a>=0&&n.setSelectionRange(a,a,"backward")},rightReverse(n,a){const u=n.value.length,l=N(u),g=l.slice(0,a+1).indexOf(q)===-1;let m=Math.min(u,a+1);for(;m<=u;m++)if(l[m-1]===q){a=m,a>0&&g===!0&&a--;break}if(m>u&&l[a-1]!==void 0&&l[a-1]!==q)return C.leftReverse(n,u);n.setSelectionRange(a,a,"forward")}};function re(n){r("click",n),i=void 0}function te(n){if(r("keydown",n),Qe(n)===!0||n.altKey===!0)return;const a=o.value,u=a.selectionStart,l=a.selectionEnd;if(n.shiftKey||(i=void 0),n.keyCode===37||n.keyCode===39){n.shiftKey&&i===void 0&&(i=a.selectionDirection==="forward"?u:l);const g=C[(n.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(n.preventDefault(),g(a,i===u?l:u),n.shiftKey){const m=a.selectionStart;a.setSelectionRange(Math.min(i,m),Math.max(i,m),"forward")}}else n.keyCode===8&&e.reverseFillMask!==!0&&u===l?(C.left(a,u),a.setSelectionRange(a.selectionStart,l,"backward")):n.keyCode===46&&e.reverseFillMask===!0&&u===l&&(C.rightReverse(a,l),a.setSelectionRange(u,a.selectionEnd,"forward"))}function ae(n){if(n==null||n==="")return"";if(e.reverseFillMask===!0)return U(n);const a=w;let u=0,l="";for(let g=0;g<a.length;g++){const m=n[u],M=a[g];if(typeof M=="string")l+=M,m===M&&u++;else if(m!==void 0&&M.regex.test(m))l+=M.transform!==void 0?M.transform(m):m,u++;else return l}return l}function U(n){const a=w,u=c.indexOf(q);let l=n.length-1,g="";for(let m=a.length-1;m>=0&&l!==-1;m--){const M=a[m];let k=n[l];if(typeof M=="string")g=M+g,k===M&&l--;else if(k!==void 0&&M.regex.test(k))do g=(M.transform!==void 0?M.transform(k):k)+g,l--,k=n[l];while(u===m&&k!==void 0&&M.regex.test(k));else return g}return g}function $(n){return typeof n!="string"||S===void 0?typeof n=="number"?S(""+n):n:S(n)}function oe(n){return d.length-n.length<=0?n:e.reverseFillMask===!0&&n.length!==0?d.slice(0,-n.length)+n:n+d.slice(n.length)}return{innerValue:s,hasMask:v,moveCursorForPaste:ee,updateMaskValue:I,onMaskedKeydown:te,onMaskedClick:re}}function Rt(e,r){function h(){const o=e.modelValue;try{const c="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(o)===o&&("length"in o?Array.from(o):[o]).forEach(d=>{c.items.add(d)}),{files:c.files}}catch{return{files:void 0}}}return E(()=>{if(e.type==="file")return h()})}const At=ge({name:"QInput",inheritAttrs:!1,props:{...dt,...Tt,...ct,modelValue:[String,Number,FileList],shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...ut,"paste","change","keydown","click","animationend"],setup(e,{emit:r,attrs:h}){const{proxy:o}=Me(),{$q:c}=o,d={};let w=NaN,S,Q,i=null,v;const s=P(null),R=ft(e),{innerValue:A,hasMask:N,moveCursorForPaste:D,updateMaskValue:I,onMaskedKeydown:ee,onMaskedClick:C}=Qt(e,r,k,s),re=Rt(e),te=E(()=>pe(A.value)),ae=vt(m),U=mt({changeEvent:!0}),$=E(()=>e.type==="textarea"||e.autogrow===!0),oe=E(()=>$.value===!0||["text","search","url","tel","password"].includes(e.type)),n=E(()=>{const t={...U.splitAttrs.listeners.value,onInput:m,onPaste:g,onChange:W,onBlur:Z,onFocus:ye};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=ae,N.value===!0&&(t.onKeydown=ee,t.onClick=C),e.autogrow===!0&&(t.onAnimationend=M),t}),a=E(()=>{const t={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:R.value,...U.splitAttrs.attributes.value,id:U.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return $.value===!1&&(t.type=e.type),e.autogrow===!0&&(t.rows=1),t});B(()=>e.type,()=>{s.value&&(s.value.value=e.modelValue)}),B(()=>e.modelValue,t=>{if(N.value===!0){if(Q===!0&&(Q=!1,String(t)===w))return;I(t)}else A.value!==t&&(A.value=t,e.type==="number"&&d.hasOwnProperty("value")===!0&&(S===!0?S=!1:delete d.value));e.autogrow===!0&&ne(b)}),B(()=>e.autogrow,t=>{t===!0?ne(b):s.value!==null&&h.rows>0&&(s.value.style.height="auto")}),B(()=>e.dense,()=>{e.autogrow===!0&&ne(b)});function u(){kt(()=>{const t=document.activeElement;s.value!==null&&s.value!==t&&(t===null||t.id!==U.targetUid.value)&&s.value.focus({preventScroll:!0})})}function l(){s.value?.select()}function g(t){if(N.value===!0&&e.reverseFillMask!==!0){const x=t.target;D(x,x.selectionStart,x.selectionEnd)}r("paste",t)}function m(t){if(!t||!t.target)return;if(e.type==="file"){r("update:modelValue",t.target.files);return}const x=t.target.value;if(t.target.qComposing===!0){d.value=x;return}if(N.value===!0)I(x,!1,t.inputType);else if(k(x),oe.value===!0&&t.target===document.activeElement){const{selectionStart:j,selectionEnd:O}=t.target;j!==void 0&&O!==void 0&&ne(()=>{t.target===document.activeElement&&x.indexOf(t.target.value)===0&&t.target.setSelectionRange(j,O)})}e.autogrow===!0&&b()}function M(t){r("animationend",t),b()}function k(t,x){v=()=>{i=null,e.type!=="number"&&d.hasOwnProperty("value")===!0&&delete d.value,e.modelValue!==t&&w!==t&&(w=t,x===!0&&(Q=!0),r("update:modelValue",t),ne(()=>{w===t&&(w=NaN)})),v=void 0},e.type==="number"&&(S=!0,d.value=t),e.debounce!==void 0?(i!==null&&clearTimeout(i),d.value=t,i=setTimeout(v,e.debounce)):v()}function b(){requestAnimationFrame(()=>{const t=s.value;if(t!==null){const x=t.parentNode.style,{scrollTop:j}=t,{overflowY:O,maxHeight:z}=c.platform.is.firefox===!0?{}:window.getComputedStyle(t),le=O!==void 0&&O!=="scroll";le===!0&&(t.style.overflowY="hidden"),x.marginBottom=t.scrollHeight-1+"px",t.style.height="1px",t.style.height=t.scrollHeight+"px",le===!0&&(t.style.overflowY=parseInt(z,10)<t.scrollHeight?"auto":"hidden"),x.marginBottom="",t.scrollTop=j}})}function W(t){ae(t),i!==null&&(clearTimeout(i),i=null),v?.(),r("change",t.target.value)}function Z(t){t!==void 0&&ye(t),i!==null&&(clearTimeout(i),i=null),v?.(),S=!1,Q=!1,delete d.value,e.type!=="file"&&setTimeout(()=>{s.value!==null&&(s.value.value=A.value!==void 0?A.value:"")})}function p(){return d.hasOwnProperty("value")===!0?d.value:A.value!==void 0?A.value:""}Se(()=>{Z()}),ce(()=>{e.autogrow===!0&&b()}),Object.assign(U,{innerValue:A,fieldClass:E(()=>`q-${$.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:E(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:s,emitValue:k,hasValue:te,floatingLabel:E(()=>te.value===!0&&(e.type!=="number"||isNaN(A.value)===!1)||pe(e.displayValue)),getControl:()=>K($.value===!0?"textarea":"input",{ref:s,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...a.value,...n.value,...e.type!=="file"?{value:p()}:re.value}),getShadowControl:()=>K("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+($.value===!0?"":" text-no-wrap")},[K("span",{class:"invisible"},p()),K("span",e.shadowText)])});const V=gt(U);return Object.assign(o,{focus:u,select:l,getNativeElement:()=>s.value}),Re(o,"nativeEl",()=>s.value),V}}),zt=["horizontal","vertical","cell","none"],It=ge({name:"QMarkupTable",props:{..._t,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:e=>zt.includes(e)}},setup(e,{slots:r}){const h=Me(),o=Mt(e,h.proxy.$q),c=E(()=>`q-markup-table q-table__container q-table__card q-table--${e.separator}-separator`+(o.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(e.dense===!0?" q-table--dense":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")+(e.square===!0?" q-table--square":"")+(e.wrapCells===!1?" q-table--no-wrap":""));return()=>K("div",{class:c.value},[K("table",{class:"q-table"},Ae(r.default))])}});function $t(e,r){return K("div",e,[K("table",{class:"q-table"},r)])}const Ot={list:xt,table:It},Pt=["list","table","__qtable"],Bt=ge({name:"QVirtualScroll",props:{...ht,type:{type:String,default:"list",validator:e=>Pt.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:bt},setup(e,{slots:r,attrs:h}){let o;const c=P(null),d=E(()=>e.itemsSize>=0&&e.itemsFn!==void 0?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0),{virtualScrollSliceRange:w,localResetVirtualScroll:S,padVirtualScroll:Q,onVirtualScrollEvt:i}=yt({virtualScrollLength:d,getVirtualScrollTarget:N,getVirtualScrollEl:A}),v=E(()=>{if(d.value===0)return[];const C=(re,te)=>({index:w.value.from+te,item:re});return e.itemsFn===void 0?e.items.slice(w.value.from,w.value.to).map(C):e.itemsFn(w.value.from,w.value.to-w.value.from).map(C)}),s=E(()=>"q-virtual-scroll q-virtual-scroll"+(e.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(e.scrollTarget!==void 0?"":" scroll")),R=E(()=>e.scrollTarget!==void 0?{}:{tabindex:0});B(d,()=>{S()}),B(()=>e.scrollTarget,()=>{I(),D()});function A(){return c.value.$el||c.value}function N(){return o}function D(){o=pt(A(),e.scrollTarget),o.addEventListener("scroll",i,ke.passive)}function I(){o!==void 0&&(o.removeEventListener("scroll",i,ke.passive),o=void 0)}function ee(){let C=Q(e.type==="list"?"div":"tbody",v.value.map(r.default));return r.before!==void 0&&(C=r.before().concat(C)),Oe(r.after,C)}return ze(()=>{S()}),ce(()=>{D()}),Ie(()=>{D()}),$e(()=>{I()}),Se(()=>{I()}),()=>{if(r.default===void 0){console.error("QVirtualScroll: default scoped slot is required for rendering");return}return e.type==="__qtable"?$t({ref:c,class:"q-table__middle "+s.value},ee()):K(Ot[e.type],{...h,ref:c,class:[h.class,s.value],...R.value},ee)}}}),Dt={class:"q-mt-sm"},Lt={key:0},Nt=ue({__name:"SupportMeasureItem",props:{item:{}},setup(e){return(r,h)=>(F(),Y(St,{class:"support-measure-item q-pa-md"},{default:y(()=>[f(Ct,null,{default:y(()=>[f(fe,{class:"text-body1"},{default:y(()=>[X(H(r.item.description),1)]),_:1}),T("div",Dt,[f(fe,{caption:"",class:"text-body2"},{default:y(()=>[f(G,{name:_(Pe),color:"primary"},null,8,["name"]),X(" "+H(r.item.documentNumber)+" ",1),r.item.documentDate?(F(),L("span",Lt,"от "+H(r.item.documentDate),1)):se("",!0)]),_:1}),f(fe,{caption:"",class:"text-body2"},{default:y(()=>[f(G,{name:_(Be),color:"primary"},null,8,["name"]),X(" "+H(r.item.responsibleAuthority),1)]),_:1})]),r.item.additionalInfo?(F(),Y(qt,{key:0,label:"Дополнительная информация","header-class":"text-primary text-weight-medium q-mt-sm","expand-icon-class":"text-primary","switch-toggle-side":""},{default:y(()=>[f(de,{bordered:"",flat:"",class:"q-mt-sm bg-grey-1"},{default:y(()=>[f(J,null,{default:y(()=>[X(H(r.item.additionalInfo),1)]),_:1})]),_:1})]),_:1})):se("",!0)]),_:1})]),_:1}))}}),jt=he(Nt,[["__scopeId","data-v-add6c75d"]]);function Ve(){return De(Le)}const Ht={class:"category-content column full-height"},Kt={class:"sticky-header"},Ut={class:"text-h6 q-pr-md"},Zt={class:"text-grey-6 q-mt-sm"},Yt=ue({__name:"CategoryContent",props:{category:{}},setup(e){const r=e,h=Ve(),o=P(""),c=P(500),d=()=>{const i=window.innerHeight;let v;h.screen.lt.sm?v=280:h.screen.lt.md?v=250:v=200;const s=i-v;c.value=Math.max(300,s)},w=E(()=>h.screen.lt.sm?180:h.screen.lt.md?160:150),S=()=>{d()};ce(()=>{d(),window.addEventListener("resize",S)}),Ne(()=>{window.removeEventListener("resize",S)});const Q=E(()=>{if(!o.value?.trim())return r.category.items;const i=o.value.toLowerCase();return r.category.items.filter(v=>v.description.toLowerCase().includes(i)||v.documentNumber.toLowerCase().includes(i)||v.responsibleAuthority.toLowerCase().includes(i)||v.additionalInfo&&v.additionalInfo.toLowerCase().includes(i))});return(i,v)=>(F(),L("div",Ht,[f(de,{flat:"",bordered:"",class:"full-height column"},{default:y(()=>[T("div",Kt,[f(J,{class:"category-header row justify-between items-start no-wrap"},{default:y(()=>[T("div",Ut,H(i.category.name),1),je(i.$slots,"actions",{},void 0,!0)]),_:3}),f(J,{class:"q-pt-none"},{default:y(()=>[f(At,{modelValue:o.value,"onUpdate:modelValue":v[0]||(v[0]=s=>o.value=s),outlined:"",dense:"",clearable:"",placeholder:"Поиск по мерам поддержки"},{append:y(()=>[o.value?se("",!0):(F(),Y(G,{key:0,name:_(He)},null,8,["name"]))]),_:1},8,["modelValue"])]),_:1}),f(wt)]),Q.value.length?(F(),Y(J,{key:0,class:"q-pa-none scroll-content"},{default:y(()=>[f(Bt,{items:Q.value,"virtual-scroll-item-size":w.value,"virtual-scroll-sticky-size-start":0,"virtual-scroll-sticky-size-end":0,style:Ke(`height: ${c.value}px`),separator:""},{default:y(({item:s})=>[(F(),Y(jt,{key:s.id,item:s},null,8,["item"]))]),_:1},8,["items","virtual-scroll-item-size","style"])]),_:1})):(F(),Y(J,{key:1,class:"text-center"},{default:y(()=>[f(G,{name:_(Ue),size:"3rem",color:"grey-6"},null,8,["name"]),T("div",Zt,H(o.value?"Нет результатов по вашему запросу":"В этой категории нет доступных мер поддержки"),1)]),_:1}))]),_:3})]))}}),Jt=he(Yt,[["__scopeId","data-v-ffed02fd"]]);function Wt(){const e=P(null),r=P(!1),h=P(null),o=P(null),c=Ze(),d=Ye(),w=E(()=>!e.value||o.value===null?[]:e.value.categories.find(i=>i.id===o.value)?.items||[]);B(o,i=>{i!==null&&c.query.category!==String(i)&&d.replace({query:{...c.query,category:String(i)}})});async function S(){r.value=!0;try{const i=await fetch("data/support-measures.json");if(!i.ok)throw new Error("Ошибка при загрузке данных. Пожалуйста, попробуйте позже.");const v=await i.json();e.value=v;const s=c.query.category?Number(c.query.category):null;s!==null&&e.value?.categories&&e.value.categories.some(R=>R.id===s)?o.value=s:e.value?.categories&&e.value.categories.length>0&&(o.value=e.value.categories[0]?.id??null)}catch(i){console.error("Не удалось получить данные о мерах поддержки:",i),h.value=i instanceof Error?i:new Error("Не удалось получить данные о мерах поддержки")}finally{r.value=!1}}function Q(i){o.value=i}return{measures:e,loading:r,error:h,selectedCategory:o,filteredMeasures:w,fetchMeasures:S,selectCategory:Q}}function Xt(e){const r=document.createElement("textarea");r.value=e,r.contentEditable="true",r.style.position="fixed";const h=()=>{};st(h),document.body.appendChild(r),r.focus(),r.select();const o=document.execCommand("copy");return r.remove(),it(h),o}function Gt(e){return navigator.clipboard!==void 0?navigator.clipboard.writeText(e):new Promise((r,h)=>{const o=Xt(e);o?r(!0):h(o)})}const ea={class:"row"},ta={class:"row q-mt-md"},aa={class:"col-12"},la={key:0,class:"absolute-center"},na={key:1,class:"absolute-center"},ra={key:2,class:"row q-col-gutter-md"},oa={class:"col-12 col-md-4 col-lg-3"},sa={class:"sticky-container"},ia={class:"category-tab-content q-pr-md"},ua={class:"col-12 col-md-8 col-lg-9"},ca={key:0},da={key:1,class:"text-center absolute-center"},fa={key:3,class:"text-center absolute-center"},ma=ue({__name:"FederalSupportMeasuresPage",setup(e){const r=Ve(),{measures:h,loading:o,error:c,selectedCategory:d,fetchMeasures:w,selectCategory:S}=Wt(),Q=E(()=>typeof window<"u"?window.location.href:"");function i(){Gt(Q.value).then(()=>{r.notify({color:"positive",message:"Ссылка скопирована в буфер обмена",icon:Ge,position:"top",timeout:2e3})}).catch(()=>{r.notify({color:"negative",message:"Не удалось скопировать ссылку",icon:be,position:"top"})})}return ce(w),(v,s)=>(F(),Y(lt,{padding:""},{default:y(()=>[T("div",ea,[s[1]||(s[1]=T("div",{class:"col-12"},[T("div",{class:"header-glow text-primary text-h3 text-weight-light q-pr-xl"}," Перечень мер и инструментов государственной политики в области научно-технологического развития ")],-1)),f(Ft)]),T("div",ta,[T("div",aa,[_(o)?(F(),L("div",la,[f(Fe,{color:"primary",size:"xl"})])):_(c)?(F(),L("div",na,[f(et,{"inline-actions":"",class:"text-white bg-red"},{avatar:y(()=>[f(G,{name:_(be),size:"lg"},null,8,["name"])]),default:y(()=>[X(" "+H(_(c)?.message??"Ошибка при загрузке данных"),1)]),_:1})])):_(h)&&_(h).categories.length?(F(),L("div",ra,[T("div",oa,[T("div",sa,[f(de,{flat:"",bordered:"",class:"category-tabs-container"},{default:y(()=>[f(J,{class:"q-pa-none"},{default:y(()=>[f(tt,{modelValue:_(d),"onUpdate:modelValue":s[0]||(s[0]=R=>Je(d)?d.value=R:null),vertical:"",class:"text-primary","active-color":"primary","indicator-color":"primary","narrow-indicator":"",dense:"","no-caps":""},{default:y(()=>[(F(!0),L(_e,null,We(_(h).categories,R=>(F(),Y(at,{key:R.id,name:R.id,class:"text-left category-tab",onClick:A=>_(S)(R.id)},{default:y(()=>[T("div",ia,H(R.name),1)]),_:2},1032,["name","onClick"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})])]),T("div",ua,[_(d)!==null?(F(),L("div",ca,[f(Jt,{category:_(h).categories.find(R=>R.id===_(d))},{actions:y(()=>[f(ve,{flat:"",round:"",color:"info",icon:_(Xe),size:"sm",onClick:i,class:"share-button"},{default:y(()=>[f(Ce,null,{default:y(()=>s[2]||(s[2]=[X("Скопировать ссылку на эту категорию")])),_:1})]),_:1},8,["icon"])]),_:1},8,["category"])])):(F(),L("div",da,[f(G,{name:_(me),size:"lg",color:"primary"},null,8,["name"]),s[3]||(s[3]=T("div",{class:"q-mt-sm"},"Выберите категорию для просмотра",-1))]))])])):_(h)?(F(),L("div",fa,[f(G,{name:_(me),size:"lg",color:"grey-6"},null,8,["name"]),s[4]||(s[4]=T("div",{class:"text-grey-6 q-mt-sm"}," Нет доступных данных о мерах поддержки ",-1))])):se("",!0)])])]),_:1}))}}),$a=he(ma,[["__scopeId","data-v-2480da1e"]]);export{$a as default};
