import{Y as C,X as L,I as H,aX as _,aY as F,C as I,aZ as R,D as P,aA as m,z as S,a_ as y,a$ as $,ak as D}from"./index-Bhl6SETv.js";function T(e){return _()?(F(e),!0):!1}const E=new WeakMap,G=(...e)=>{var t;const i=e[0],l=(t=I())==null?void 0:t.proxy;if(l==null&&!R())throw new Error("injectLocal must be called in setup");return l&&E.has(l)&&i in E.get(l)?E.get(l)[i]:P(...e)},Q=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const U=Object.prototype.toString,Z=e=>U.call(e)==="[object Object]";function Y(e){return e.endsWith("rem")?Number.parseFloat(e)*16:Number.parseFloat(e)}function M(e){return Array.isArray(e)?e:[e]}function J(e){return I()}function X(e,t=!0,i){J()?C(e,i):t?e():L(e)}function K(e,t,i){return H(e,t,{...i,immediate:!0})}const W=Q?window:void 0;function g(e){var t;const i=y(e);return(t=i?.$el)!=null?t:i}function b(...e){const t=[],i=()=>{t.forEach(n=>n()),t.length=0},l=(n,s,u,f)=>(n.addEventListener(s,u,f),()=>n.removeEventListener(s,u,f)),d=S(()=>{const n=M(y(e[0])).filter(s=>s!=null);return n.every(s=>typeof s!="string")?n:void 0}),r=K(()=>{var n,s;return[(s=(n=d.value)==null?void 0:n.map(u=>g(u)))!=null?s:[W].filter(u=>u!=null),M(y(d.value?e[1]:e[0])),M(D(d.value?e[2]:e[1])),y(d.value?e[3]:e[2])]},([n,s,u,f])=>{if(i(),!n?.length||!s?.length||!u?.length)return;const o=Z(f)?{...f}:f;t.push(...n.flatMap(a=>s.flatMap(v=>u.map(p=>l(a,v,p,o)))))},{flush:"post"}),c=()=>{r(),i()};return T(i),c}function q(){const e=m(!1),t=I();return t&&C(()=>{e.value=!0},t),e}function j(e){const t=q();return S(()=>(t.value,!!e()))}const ee=Symbol("vueuse-ssr-width");function te(){const e=R()?G(ee,null):null;return typeof e=="number"?e:void 0}function ne(e,t={}){const{window:i=W,ssrWidth:l=te()}=t,d=j(()=>i&&"matchMedia"in i&&typeof i.matchMedia=="function"),r=m(typeof l=="number"),c=m(),n=m(!1),s=u=>{n.value=u.matches};return $(()=>{if(r.value){r.value=!d.value;const u=y(e).split(",");n.value=u.some(f=>{const o=f.includes("not all"),a=f.match(/\(\s*min-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),v=f.match(/\(\s*max-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/);let p=!!(a||v);return a&&p&&(p=l>=Y(a[1])),v&&p&&(p=l<=Y(v[1])),o?!p:p});return}d.value&&(c.value=i.matchMedia(y(e)),n.value=c.value.matches)}),b(c,"change",s,{passive:!0}),S(()=>n.value)}function oe(e,t,i={}){const{window:l=W,...d}=i;let r;const c=j(()=>l&&"ResizeObserver"in l),n=()=>{r&&(r.disconnect(),r=void 0)},s=S(()=>{const o=y(e);return Array.isArray(o)?o.map(a=>g(a)):[g(o)]}),u=H(s,o=>{if(n(),c.value&&l){r=new ResizeObserver(t);for(const a of o)a&&r.observe(a,d)}},{immediate:!0,flush:"post"}),f=()=>{n(),u()};return T(f),{isSupported:c,stop:f}}function ce(e,t={width:0,height:0},i={}){const{window:l=W,box:d="content-box"}=i,r=S(()=>{var o,a;return(a=(o=g(e))==null?void 0:o.namespaceURI)==null?void 0:a.includes("svg")}),c=m(t.width),n=m(t.height),{stop:s}=oe(e,([o])=>{const a=d==="border-box"?o.borderBoxSize:d==="content-box"?o.contentBoxSize:o.devicePixelContentBoxSize;if(l&&r.value){const v=g(e);if(v){const p=v.getBoundingClientRect();c.value=p.width,n.value=p.height}}else if(a){const v=M(a);c.value=v.reduce((p,{inlineSize:w})=>p+w,0),n.value=v.reduce((p,{blockSize:w})=>p+w,0)}else c.value=o.contentRect.width,n.value=o.contentRect.height},i);X(()=>{const o=g(e);o&&(c.value="offsetWidth"in o?o.offsetWidth:t.width,n.value="offsetHeight"in o?o.offsetHeight:t.height)});const u=H(()=>g(e),o=>{c.value=o?t.width:0,n.value=o?t.height:0});function f(){s(),u()}return{width:c,height:n,stop:f}}const se={page:e=>[e.pageX,e.pageY],client:e=>[e.clientX,e.clientY],screen:e=>[e.screenX,e.screenY],movement:e=>e instanceof MouseEvent?[e.movementX,e.movementY]:null};function re(e={}){const{type:t="page",touch:i=!0,resetOnTouchEnds:l=!1,initialValue:d={x:0,y:0},window:r=W,target:c=r,scroll:n=!0,eventFilter:s}=e;let u=null,f=0,o=0;const a=m(d.x),v=m(d.y),p=m(null),w=typeof t=="function"?t:se[t],O=h=>{const x=w(h);u=h,x&&([a.value,v.value]=x,p.value="mouse"),r&&(f=r.scrollX,o=r.scrollY)},V=h=>{if(h.touches.length>0){const x=w(h.touches[0]);x&&([a.value,v.value]=x,p.value="touch")}},z=()=>{if(!u||!r)return;const h=w(u);u instanceof MouseEvent&&h&&(a.value=h[0]+r.scrollX-f,v.value=h[1]+r.scrollY-o)},B=()=>{a.value=d.x,v.value=d.y},N=s?h=>s(()=>O(h),{}):h=>O(h),k=s?h=>s(()=>V(h),{}):h=>V(h),A=s?()=>s(()=>z(),{}):()=>z();if(c){const h={passive:!0};b(c,["mousemove","dragover"],N,h),i&&t!=="movement"&&(b(c,["touchstart","touchmove"],k,h),l&&b(c,"touchend",B,h)),n&&t==="page"&&b(r,"scroll",A,h)}return{x:a,y:v,sourceType:p}}function ie(e={}){const{window:t=W,initialWidth:i=Number.POSITIVE_INFINITY,initialHeight:l=Number.POSITIVE_INFINITY,listenOrientation:d=!0,includeScrollbar:r=!0,type:c="inner"}=e,n=m(i),s=m(l),u=()=>{if(t)if(c==="outer")n.value=t.outerWidth,s.value=t.outerHeight;else if(c==="visual"&&t.visualViewport){const{width:o,height:a,scale:v}=t.visualViewport;n.value=Math.round(o*v),s.value=Math.round(a*v)}else r?(n.value=t.innerWidth,s.value=t.innerHeight):(n.value=t.document.documentElement.clientWidth,s.value=t.document.documentElement.clientHeight)};u(),X(u);const f={passive:!0};if(b("resize",u,f),t&&c==="visual"&&t.visualViewport&&b(t.visualViewport,"resize",u,f),d){const o=ne("(orientation: portrait)");H(o,()=>u())}return{width:n,height:s}}function le(e={}){const{aspectRatio:t=16/9,maxHeight:i="80vh",minHeight:l="40vh"}=e,{width:d,height:r}=ie(),c=S(()=>d.value<768&&r.value>d.value?`${d.value/t}px`:i),n=S(()=>({height:c.value,maxHeight:i,minHeight:l,width:"100%"}));return{containerHeight:c,containerStyles:n}}export{re as a,ie as b,ce as c,le as u};
