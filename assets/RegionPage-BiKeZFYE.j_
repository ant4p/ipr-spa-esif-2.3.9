import{Q as ge}from"./QPage-DAomX7La.js";import{Q as be}from"./QSpinnerDots-B_-BC47s.js";import{a6 as $,ag as W,H as M,aA as ve,Y as Z,J as X,aq as Q,a8 as f,aB as j,ak as x,a7 as B,aa as J,ap as d,ab as l,an as U,aE as _e,a9 as u,ad as R,Z as K,aF as ye,ax as P,aR as we,I as ee,ar as te,ae as D,b4 as ae,b5 as se,b6 as ie,at as re,av as ne,aw as oe,ac as N,b7 as Be,am as le,y as ce,b2 as Ce,b8 as ke,z as y,A as S,a5 as Se,b9 as Qe,ba as xe,bb as qe,B as Oe,bc as Re,bd as De,be as $e,az as Ne}from"./index-Bhl6SETv.js";import{S as ue,i as w,R as Pe,A as Ie,a as Me,C as A,p as C,c as k,L as Te,e as Ve,q as ze}from"./ResponsiveTheme-Ck20dRLL.js";import{u as Ee,M as Le,g as Ae,a as Ye}from"./useGeoJson-DGaBucA4.js";import{M as Ge}from"./MapPointSeries-C4I4MaBM.js";import{C as Xe,B as je}from"./Circle-CGqZXLub.js";import{_ as de}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{Q as me}from"./QTooltip-D8T5Kzqq.js";import{Q as Je,C as pe}from"./ClosePopup-ByZL18Fk.js";import{Q as Y}from"./QCardSection-CIRpBG4M.js";import{Q as Ue}from"./QCard-4hNWPW3w.js";import{Q as He}from"./QDialog-DwvcyMya.js";import{Q as Fe,a as We}from"./QTabs-BG5OmQU2.js";import{Q as H}from"./QSeparator-BwTGVoGv.js";import{Q as F,a as O,b as G}from"./QItem-DIgVajpF.js";import{Q as Ze}from"./QSelect-DnyUe1Qe.js";import"./position-engine-CD8Qv4MV.js";import"./use-tick-0DdASRGW.js";import"./use-model-toggle-DypRWqPB.js";import"./use-dark-CCCGl-by.js";import"./uid-Bzmka5Fh.js";import"./rtl-ByL7cAmv.js";import"./use-key-composition-D1-Dj3qO.js";import"./use-id-CTOrvLVL.js";import"./QChip-B3IePdsh.js";import"./format-hlGAdIUH.js";class I extends ue{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makePicture(void 0)})}_changed(){if(super._changed(),this.isDirty("width")){const e=this.get("width");this._display.width=w(e)?e:void 0}if(this.isDirty("height")){const e=this.get("height");this._display.height=w(e)?e:void 0}if(this.isDirty("shadowColor")){this._display.clear();const e=this.get("shadowColor");this._display.shadowColor=e??void 0}this.isDirty("shadowBlur")&&(this._display.clear(),this._display.shadowBlur=this.get("shadowBlur")),this.isDirty("shadowOffsetX")&&(this._display.clear(),this._display.shadowOffsetX=this.get("shadowOffsetX")),this.isDirty("shadowOffsetY")&&(this._display.clear(),this._display.shadowOffsetY=this.get("shadowOffsetY")),this.isDirty("shadowOpacity")&&(this._display.clear(),this._display.shadowOpacity=this.get("shadowOpacity")),(this.isDirty("src")||this.isDirty("cors"))&&(this._display.clear(),this._load())}_load(){const e=this.get("src");if(e){const i=new Image;i.crossOrigin=this.get("cors","anonymous"),i.src=e;const t=this.events;i.decode().then(()=>{this._display.image=i,this._updateSize(),!t.isDisposed()&&t.isEnabled("loaded")&&t.dispatch("loaded",{type:"loaded",target:this})}).catch(o=>{!t.isDisposed()&&t.isEnabled("loaderror")&&t.dispatch("loaderror",{type:"loaderror",target:this})})}}_updateSize(){super._updateSize();const e=this._display.image;if(e){let i=this.getPrivate("width",this.get("width")),t=this.getPrivate("height",this.get("height"));const o=e.width&&e.height?e.width/e.height:0;w(i)&&w(t)?(this._display.width=i,this._display.height=t):w(i)&&o?t=i/o:w(t)&&o?i=t*o:(i=e.width,t=e.height),w(i)&&(this._display.width=i),w(t)&&(this._display.height=t),this.markDirtyBounds(),this.markDirty()}}}Object.defineProperty(I,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Picture"});Object.defineProperty(I,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ue.classNames.concat([I.className])});const Ke=$({__name:"MapRegion",props:{regionId:{}},setup(a){const e=a,i=W(),t=M(),o=ve(),{fetchGeoJson:m,loading:n}=Ee({defaultQuality:"Q3",cacheResults:!0});Z(async()=>{if(!t.value)return;o.value=Pe.new(t.value);const{value:s}=o;if(!s)return;s._logo?.dispose(),g(s);const p=r(s),h=c(s,p),_=await m();if(!_)return;const z=v(_,e.regionId),E=b(s,h,z);q(E);const L=T(s,h);V(L,e.regionId),fe(s,p,e.regionId),await p.appear(1e3,100)});function g(s){s.setThemes([Ie.new(s),Me.new(s)])}function r(s){return s.container.children.push(A.new(s,{width:C(100),height:C(100)}))}function c(s,p){return p.children.push(Le.new(s,{projection:Ae(),rotationX:-100,rotationY:-35,width:C(100),wheelX:"none",wheelY:"none",paddingTop:10,paddingBottom:10,paddingLeft:10,paddingRight:10}))}function v(s,p){return{...s,features:s.features.filter(h=>h.id===p)}}function b(s,p,h){return p.series.push(Ye.new(s,{geoJSON:h}))}function q(s){s.mapPolygons.template.setAll({fill:k(2577549),fillOpacity:.2,stroke:k(2577549)})}function T(s,p){const h=p.series.push(Ge.new(s,{}));return h.bullets.push(()=>{const _=A.new(s,{});return _.children.push(Xe.new(s,{radius:5,tooltipY:0,fill:k(2577549),stroke:k(16777215),strokeOpacity:1})),_.children.push(Te.new(s,{text:"{title}",fill:k(2577549),populateText:!0,fontWeight:"bold",fontSize:16,centerX:ze,centerY:Ve,shadowColor:k(16777215),shadowBlur:10,shadowOffsetX:0,shadowOffsetY:0,shadowOpacity:1})),je.new(s,{sprite:_})}),h}function V(s,p){const h=i.regions[p];if(!h)return;const{center_name:_,center_coords:z}=h,[E,L]=z;s.data.push({geometry:{type:"Point",coordinates:[E,L]},title:_})}function fe(s,p,h){p.children.push(A.new(s,{layout:s.horizontalLayout,width:C(50),height:C(15),paddingBottom:2,paddingTop:2,paddingLeft:2,paddingRight:0})).children.push(I.new(s,{height:C(100),src:`icons/regions/emblems/${h}.svg`}))}return X(()=>{o.value?.dispose()}),(s,p)=>(f(),Q("div",{id:"regionMap",ref_key:"rootDiv",ref:t,class:j({loading:x(n)})},[x(n)?(f(),B(be,{key:0,color:"primary",size:"xl",class:"absolute-center"})):J("",!0)],2))}}),et=de(Ke,[["__scopeId","data-v-4b7b4b2c"]]),tt={class:"absolute",style:{top:"1.5rem",right:"1.5rem"}},at=$({__name:"StatsHelpButton",setup(a){const e=M(!1);return(i,t)=>(f(),Q(P,null,[d("div",tt,[l(U,{icon:x(_e),color:"accent",dense:"",flat:"",round:"",size:"md",onClick:t[0]||(t[0]=o=>e.value=!e.value)},{default:u(()=>[l(me,null,{default:u(()=>t[3]||(t[3]=[R("Источники информации")])),_:1})]),_:1},8,["icon"])]),l(He,{modelValue:e.value,"onUpdate:modelValue":t[2]||(t[2]=o=>e.value=o)},{default:u(()=>[l(Ue,{class:"bg-grey-2 q-px-sm",style:{"min-height":"500px","min-width":"70vw"}},{default:u(()=>[l(Y,{class:"row items-center q-pb-none"},{default:u(()=>[t[4]||(t[4]=d("div",{class:"text-subtitle1 text-primary"},"Источники информации",-1)),l(Je),K(l(U,{icon:x(ye),class:"float-right",dense:"",flat:"",round:"",onClick:t[1]||(t[1]=o=>e.value=!1)},null,8,["icon"]),[[pe]])]),_:1}),l(Y,null,{default:u(()=>t[5]||(t[5]=[d("div",{class:"q-pb-md"}," 1. Стратегия пространственного развития Российской Федерации на период до 2025 года, утвержденная распоряжением правительства Российской Федерации от 13 февраля 2019 г. № 207-р. ",-1),d("div",{class:"q-pb-md"},' 2. Приказ Росстата от 29.07.2022 № 538 (ред. от 09.10.2023) "Об утверждении форм федерального статистического наблюдения для организации федерального статистического наблюдения за деятельностью в сфере образования, науки, инноваций и информационных технологий" ',-1),d("div",{class:"q-pb-md"}," 3. Рейтинг инновационного развития субъектов Российской Федерации. Выпуск 9 – М.:ИСИЭЗ ВШЭ, 2024.–248 с. ",-1),d("div",{class:"q-pb-md"}," 4. Рейтинг инновационного развития субъектов Российской Федерации. Выпуск 8. М.: НИУ ВШЭ, 2023. — 260 с. ",-1),d("div",{class:"q-pb-md"}," 5. Сведения об отечественных исследованиях и разработках для ТЭК, представляемые Минобрнауки России в рамках исполнения пункта 6.27 перечня форм предоставления информации для включения в государственную информационную систему топливно-энергетического комплекса, утвержденного распоряжением Правительства Российской Федерации от 27 июля 2019 г. № 1677-р. ",-1),d("div",null," 6. Приказ Минэнерго России от 03.03.2020 N 149 «Об утверждении формы предоставления в обязательном порядке Министерством науки и высшего образования Российской Федерации информации для включения в государственную информационную систему топливно-энергетического комплекса и требований к заполнению этой формы» (Зарегистрировано в Минюсте России 02.06.2020 N 58553). ",-1)])),_:1}),l(Y,null,{default:u(()=>t[6]||(t[6]=[d("div",{class:"text-subtitle1 text-primary"}," Периодичность обновления информации ",-1),d("div",{class:"q-pb-md"}," — разделы «Инновационный потенциал и социально-экономические показатели», «Развитие кадрового потенциала», «Научное сопровождение ТЭК» — ежегодно ",-1),d("div",null," — разделы «Инновационная инфраструктура», «Нормативно-правовая база», подраздел «Меры поддержки» раздела «Отрасли экономической специализации и меры поддержки» — ежеквартально ",-1)])),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}}),st={class:"desktop-tabs q-mb-lg"},it={class:"mobile-tabs q-mb-lg"},rt=$({__name:"RegionNavigationBar",setup(a){const e=[{name:"stats-npa",label:"Нормативая база",icon:ae,caption:"Документы инновационной деятельности"},{name:"stats-support-measures",label:"Меры поддержки",icon:se,caption:"Отраслевая специализация и меры поддержки региона"},{name:"stats-infrastructure",label:"Инфраструктура",icon:ie,caption:"Объекты и организации инновационной инфраструктуры региона"},{name:"stats-social-economic",label:"Статистистика",icon:re,caption:"Инновационный потенциал и социально-экономические показатели региона"},{name:"stats-human-resources",label:"Кадровый потенциал",icon:ne,caption:"Развитие кадрового потенциала региона"},{name:"stats-science-for-tek",label:"Наука",icon:oe,caption:"Научное сопровождение топливно-энергетического комплекса"}],i=we(),t=le(),o=M(i.name);ee(()=>i.name,n=>{o.value=n},{immediate:!0});const m=n=>{t.push({name:n})};return(n,g)=>(f(),Q(P,null,[d("div",st,[l(Fe,{"model-value":x(i).name,"active-color":"primary","indicator-color":"primary",class:"region-tabs bg-white text-grey-9",align:"justify",dense:"","narrow-indicator":"","no-caps":"",breakpoint:600},{default:u(()=>[(f(),Q(P,null,te(e,r=>l(We,{key:r.name,name:r.name,icon:r.icon,label:r.label,onClick:c=>m(r.name),class:"region-tab q-py-sm"},{default:u(()=>[l(me,null,{default:u(()=>[R(D(r.caption),1)]),_:2},1024)]),_:2},1032,["name","icon","label","onClick"])),64))]),_:1},8,["model-value"]),l(H)]),d("div",it,[l(Ze,{modelValue:o.value,"onUpdate:modelValue":[g[0]||(g[0]=r=>o.value=r),m],options:e,"option-value":"name","option-label":"label","map-options":"","emit-value":"",filled:"",color:"primary",class:"full-width"},{option:u(({opt:r,selected:c})=>[K((f(),B(F,{clickable:"",onClick:v=>m(r.name)},{default:u(()=>[l(O,{avatar:""},{default:u(()=>[l(N,{name:r.icon,color:c?"primary":"grey-7"},null,8,["name","color"])]),_:2},1024),l(O,null,{default:u(()=>[l(G,{class:j({"text-primary":c,"text-weight-medium":c})},{default:u(()=>[R(D(r.label),1)]),_:2},1032,["class"]),l(G,{caption:""},{default:u(()=>[R(D(r.caption),1)]),_:2},1024)]),_:2},1024),c?(f(),B(O,{key:0,side:""},{default:u(()=>[l(N,{name:x(Be),color:"primary"},null,8,["name"])]),_:1})):J("",!0)]),_:2},1032,["onClick"])),[[pe]])]),selected:u(()=>[l(F,null,{default:u(()=>[l(O,{avatar:""},{default:u(()=>[l(N,{name:e.find(r=>r.name===o.value)?.icon,color:"primary"},null,8,["name"])]),_:1}),l(O,null,{default:u(()=>[l(G,{class:"text-weight-medium"},{default:u(()=>[R(D(e.find(r=>r.name===o.value)?.label),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(H)])],64))}}),nt=de(rt,[["__scopeId","data-v-9bdb126d"]]),ot=ce({name:"QBreadcrumbsEl",props:{...Ce,label:String,icon:String,tag:{type:String,default:"span"}},emits:["click"],setup(a,{slots:e}){const{linkTag:i,linkAttrs:t,linkClass:o,navigateOnClick:m}=ke(),n=y(()=>({class:"q-breadcrumbs__el q-link flex inline items-center relative-position "+(a.disable!==!0?"q-link--focusable"+o.value:"q-breadcrumbs__el--disable"),...t.value,onClick:m})),g=y(()=>"q-breadcrumbs__el-icon"+(a.label!==void 0?" q-breadcrumbs__el-icon--with-label":""));return()=>{const r=[];return a.icon!==void 0&&r.push(S(N,{class:g.value,name:a.icon})),a.label!==void 0&&r.push(a.label),S(i.value,{...n.value},Se(e.default,r))}}}),lt=["",!0],ct=ce({name:"QBreadcrumbs",props:{...Qe,separator:{type:String,default:"/"},separatorColor:String,activeColor:{type:String,default:"primary"},gutter:{type:String,validator:a=>["none","xs","sm","md","lg","xl"].includes(a),default:"sm"}},setup(a,{slots:e}){const i=xe(a),t=y(()=>`flex items-center ${i.value}${a.gutter==="none"?"":` q-gutter-${a.gutter}`}`),o=y(()=>a.separatorColor?` text-${a.separatorColor}`:""),m=y(()=>` text-${a.activeColor}`);return()=>{if(e.default===void 0)return;const n=qe(Oe(e.default));if(n.length===0)return;let g=1;const r=[],c=n.filter(b=>b.type?.name==="QBreadcrumbsEl").length,v=e.separator!==void 0?e.separator:()=>a.separator;return n.forEach(b=>{if(b.type?.name==="QBreadcrumbsEl"){const q=g<c,T=b.props!==null&&lt.includes(b.props.disable),V=(q===!0?"":" q-breadcrumbs--last")+(T!==!0&&q===!0?m.value:"");g++,r.push(S("div",{class:`flex items-center${V}`},[b])),q===!0&&r.push(S("div",{class:"q-breadcrumbs__separator"+o.value},v()))}else r.push(b)}),S("div",{class:"q-breadcrumbs"},[S("div",{class:t.value},r)])}}}),he=Re("breadcrumbs",()=>{const a=M([]),e=y(()=>a.value);function i(n){a.value=n}function t(n){a.value.push(n)}function o(){a.value=[]}function m(n,g){const r=a.value.findIndex(c=>c.name===n);if(r!==-1){const c=a.value[r];a.value[r]={...c,...g}}}return{breadcrumbs:a,currentBreadcrumbs:e,setBreadcrumbs:i,addBreadcrumb:t,clearBreadcrumbs:o,updateBreadcrumb:m}}),ut=$({__name:"TheBreadcrumbs",props:{separator:{default:"»"},class:{default:"text-grey"}},setup(a){const e=a,i=he(),t=y(()=>i.currentBreadcrumbs);return(o,m)=>(f(),B(ct,{class:j(e.class),separator:e.separator},{default:u(()=>[(f(!0),Q(P,null,te(t.value,n=>(f(),B(ot,{key:n.name,label:n.label,icon:n.icon,to:n.to&&typeof n.to=="object"&&("name"in n.to&&n.to.name||"path"in n.to&&n.to.path)?n.to:null},null,8,["label","icon","to"]))),128))]),_:1},8,["class","separator"]))}});function dt(){const a=he();function e(t,o=!0){o&&a.clearBreadcrumbs(),t.forEach(m=>{a.addBreadcrumb(m)})}function i(){X(()=>{a.clearBreadcrumbs()})}return{setBreadcrumbs:e,clearOnUnmount:i,updateBreadcrumb:a.updateBreadcrumb,clearBreadcrumbs:a.clearBreadcrumbs}}const mt={class:"q-pb-lg"},pt={class:"row items-start"},ht={key:0,class:"q-mr-md col-3"},ft={class:"col"},gt={class:"text-primary text-h3 text-weight-light q-pb-md"},Gt=$({__name:"RegionPage",props:{id:{default:()=>""}},setup(a){const e=a,i=le(),t=W(),{setBreadcrumbs:o,clearOnUnmount:m}=dt(),n=y(()=>t.regions[e.id]?.full_name??"регион не указан"),g=y(()=>["region"].includes(i.currentRoute.value.name)),r=()=>{const c=[{name:"home",label:"",icon:De,to:{name:"home"}}];if(e.id){const b=i.currentRoute.value.name==="region";c.push({name:"region",label:n.value,icon:$e,to:b?{name:""}:{name:"region"}})}const v=i.currentRoute.value.name;v==="stats-npa"?c.push({name:"stats-npa",label:"Нормативно-правовая база инновационной деятельности",icon:ae,to:{name:""}}):v==="stats-support-measures"?c.push({name:"stats-support-measures",label:"Отрасли экономической специализации и меры поддержки",icon:se,to:{name:""}}):v==="stats-infrastructure"?c.push({name:"stats-infrastructure",label:"Инновационная инфраструктура",icon:ie,to:{name:""}}):v==="stats-social-economic"?c.push({name:"stats-social-economic",label:"Инновационный потенциал и социально-экономические показатели",icon:re,to:{name:""}}):v==="stats-human-resources"?c.push({name:"stats-human-resources",label:"Развитие кадрового потенциала",icon:ne,to:{name:""}}):v==="stats-science-for-tek"&&c.push({name:"stats-science-for-tek",label:"Научное сопровождение ТЭК",icon:oe,to:{name:""}}),o(c)};return X(()=>{m()}),Z(async()=>{r(),ee([()=>e.id,()=>i.currentRoute.value.name,()=>n.value],()=>{r()},{deep:!0})}),(c,v)=>{const b=Ne("router-view");return f(),B(ge,{padding:""},{default:u(()=>[d("div",mt,[l(ut)]),d("div",pt,[g.value&&c.$q.screen.gt.sm?(f(),Q("div",ht,[(f(),B(et,{key:c.id,"region-id":c.id,style:{height:"calc(90vh - 250px)"}},null,8,["region-id"]))])):J("",!0),d("div",ft,[d("div",gt,D(n.value),1),l(nt),(f(),B(b,{key:c.id}))])]),l(at)]),_:1})}}});export{Gt as default};
