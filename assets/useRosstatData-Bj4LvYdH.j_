import{H as o,z as d}from"./index-Bhl6SETv.js";const m=c=>{const e=o([]),l=o({}),u=o(!0),i=o(null);return(async()=>{try{u.value=!0;const t=await(await fetch("data/rosstat_data.json")).json();l.value=t.metadata,e.value=t.data}catch(r){i.value=r,console.error(r)}finally{u.value=!1}})(),{data:e,loading:u,error:i,metadata:l,getIndicatorData:r=>d(()=>{if(e.value.length===0)return[];const t=Math.max(...e.value.map(n=>parseInt(n.year))),a=[t-4,t-3,t-2,t-1,t];return e.value.filter(n=>n.region===c&&r.includes(n.indicator)&&a.includes(parseInt(n.year)))}),getIndicatorLatestData:r=>d(()=>{if(e.value.length===0)return[];const t=r.reduce((a,n)=>{const f=e.value.filter(s=>s.region===c&&s.indicator===n);return f.length>0&&(a[n]=Math.max(...f.map(s=>parseInt(s.year)))),a},{});return e.value.filter(a=>a.region===c&&r.includes(a.indicator)&&parseInt(a.year)===t[a.indicator])})}};export{m as u};
