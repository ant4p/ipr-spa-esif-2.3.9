import{C as K,H as V,bh as Ee,D as Fe,bk as Me,I as j,Y as Ce,J as se,z as q,bl as xe,aI as ke,W as Oe,X as ze,aL as _e,aK as Ae,A as v,T as G,ac as ge,bm as $e,B as ne,b0 as Te,Q as He,aJ as Pe,O as Le}from"./index-Bhl6SETv.js";import{u as Ne}from"./use-id-CTOrvLVL.js";import{u as je,a as We}from"./use-dark-CCCGl-by.js";import{d as De,o as Ie}from"./position-engine-CD8Qv4MV.js";import{r as pe}from"./rtl-ByL7cAmv.js";const he=/^on[A-Z]/;function Ue(){const{attrs:e,vnode:l}=K(),t={listeners:V({}),attributes:V({})};function o(){const S={},i={};for(const c in e)c!=="class"&&c!=="style"&&he.test(c)===!1&&(S[c]=e[c]);for(const c in l.props)he.test(c)===!0&&(i[c]=l.props[c]);t.attributes.value=S,t.listeners.value=i}return Ee(o),o(),t}function Ke({validate:e,resetValidation:l,requiresQForm:t}){const o=Fe(Me,!1);if(o!==!1){const{props:S,proxy:i}=K();Object.assign(i,{validate:e,resetValidation:l}),j(()=>S.disable,c=>{c===!0?(typeof l=="function"&&l(),o.unbindComponent(i)):o.bindComponent(i)}),Ce(()=>{S.disable!==!0&&o.bindComponent(i)}),se(()=>{S.disable!==!0&&o.unbindComponent(i)})}else t===!0&&console.error("Parent QForm not found on useFormChild()!")}const be=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,ye=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,we=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,ae=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,ue=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,de={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>be.test(e),hexaColor:e=>ye.test(e),hexOrHexaColor:e=>we.test(e),rgbColor:e=>ae.test(e),rgbaColor:e=>ue.test(e),rgbOrRgbaColor:e=>ae.test(e)||ue.test(e),hexOrRgbColor:e=>be.test(e)||ae.test(e),hexaOrRgbaColor:e=>ye.test(e)||ue.test(e),anyColor:e=>we.test(e)||ae.test(e)||ue.test(e)},Xe=[!0,!1,"ondemand"],Ye={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],default:!1,validator:e=>Xe.includes(e)}};function Qe(e,l){const{props:t,proxy:o}=K(),S=V(!1),i=V(null),c=V(!1);Ke({validate:M,resetValidation:E});let g=0,w;const _=q(()=>t.rules!==void 0&&t.rules!==null&&t.rules.length!==0),a=q(()=>t.disable!==!0&&_.value===!0&&l.value===!1),b=q(()=>t.error===!0||S.value===!0),C=q(()=>typeof t.errorMessage=="string"&&t.errorMessage.length!==0?t.errorMessage:i.value);j(()=>t.modelValue,()=>{c.value=!0,a.value===!0&&t.lazyRules===!1&&k()});function h(){t.lazyRules!=="ondemand"&&a.value===!0&&c.value===!0&&k()}j(()=>t.reactiveRules,F=>{F===!0?w===void 0&&(w=j(()=>t.rules,h,{immediate:!0,deep:!0})):w!==void 0&&(w(),w=void 0)},{immediate:!0}),j(()=>t.lazyRules,h),j(e,F=>{F===!0?c.value=!0:a.value===!0&&t.lazyRules!=="ondemand"&&k()});function E(){g++,l.value=!1,c.value=!1,S.value=!1,i.value=null,k.cancel()}function M(F=t.modelValue){if(t.disable===!0||_.value===!1)return!0;const $=++g,N=l.value!==!0?()=>{c.value=!0}:()=>{},y=(z,R)=>{z===!0&&N(),S.value=z,i.value=R||null,l.value=!1},L=[];for(let z=0;z<t.rules.length;z++){const R=t.rules[z];let A;if(typeof R=="function"?A=R(F,de):typeof R=="string"&&de[R]!==void 0&&(A=de[R](F)),A===!1||typeof A=="string")return y(!0,A),!1;A!==!0&&A!==void 0&&L.push(A)}return L.length===0?(y(!1),!0):(l.value=!0,Promise.all(L).then(z=>{if(z===void 0||Array.isArray(z)===!1||z.length===0)return $===g&&y(!1),!0;const R=z.find(A=>A===!1||typeof A=="string");return $===g&&y(R!==void 0,R),R===void 0},z=>($===g&&(console.error(z),y(!0)),!1)))}const k=xe(M,0);return se(()=>{w?.(),k.cancel()}),Object.assign(o,{resetValidation:E,validate:M}),ke(o,"hasError",()=>b.value),{isDirtyModel:c,hasRules:_,hasError:b,errorMessage:C,validate:M,resetValidation:E}}function Je(e){return e!=null&&(""+e).length!==0}const Ze={...je,...Ye,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String},fl={...Ze,maxlength:[Number,String]},dl=["update:modelValue","clear","focus","blur"];function vl({requiredForAttr:e=!0,tagProp:l,changeEvent:t=!1}={}){const{props:o,proxy:S}=K(),i=We(o,S.$q),c=Ne({required:e,getValue:()=>o.for});return{requiredForAttr:e,changeEvent:t,tag:l===!0?q(()=>o.tag):{value:"label"},isDark:i,editable:q(()=>o.disable!==!0&&o.readonly!==!0),innerLoading:V(!1),focused:V(!1),hasPopupOpen:!1,splitAttrs:Ue(),targetUid:c,rootRef:V(null),targetRef:V(null),controlRef:V(null)}}function pl(e){const{props:l,emit:t,slots:o,attrs:S,proxy:i}=K(),{$q:c}=i;let g=null;e.hasValue===void 0&&(e.hasValue=q(()=>Je(l.modelValue))),e.emitValue===void 0&&(e.emitValue=r=>{t("update:modelValue",r)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:X,onFocusout:W}),Object.assign(e,{clearValue:Y,onControlFocusin:X,onControlFocusout:W,focus:R}),e.computedCounter===void 0&&(e.computedCounter=q(()=>{if(l.counter!==!1){const r=typeof l.modelValue=="string"||typeof l.modelValue=="number"?(""+l.modelValue).length:Array.isArray(l.modelValue)===!0?l.modelValue.length:0,m=l.maxlength!==void 0?l.maxlength:l.maxValues;return r+(m!==void 0?" / "+m:"")}}));const{isDirtyModel:w,hasRules:_,hasError:a,errorMessage:b,resetValidation:C}=Qe(e.focused,e.innerLoading),h=e.floatingLabel!==void 0?q(()=>l.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):q(()=>l.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),E=q(()=>l.bottomSlots===!0||l.hint!==void 0||_.value===!0||l.counter===!0||l.error!==null),M=q(()=>l.filled===!0?"filled":l.outlined===!0?"outlined":l.borderless===!0?"borderless":l.standout?"standout":"standard"),k=q(()=>`q-field row no-wrap items-start q-field--${M.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(l.rounded===!0?" q-field--rounded":"")+(l.square===!0?" q-field--square":"")+(h.value===!0?" q-field--float":"")+($.value===!0?" q-field--labeled":"")+(l.dense===!0?" q-field--dense":"")+(l.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(a.value===!0?" q-field--error":"")+(a.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(l.hideBottomSpace!==!0&&E.value===!0?" q-field--with-bottom":"")+(l.disable===!0?" q-field--disabled":l.readonly===!0?" q-field--readonly":"")),F=q(()=>"q-field__control relative-position row no-wrap"+(l.bgColor!==void 0?` bg-${l.bgColor}`:"")+(a.value===!0?" text-negative":typeof l.standout=="string"&&l.standout.length!==0&&e.focused.value===!0?` ${l.standout}`:l.color!==void 0?` text-${l.color}`:"")),$=q(()=>l.labelSlot===!0||l.label!==void 0),N=q(()=>"q-field__label no-pointer-events absolute ellipsis"+(l.labelColor!==void 0&&a.value!==!0?` text-${l.labelColor}`:"")),y=q(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:h.value,modelValue:l.modelValue,emitValue:e.emitValue})),L=q(()=>{const r={};return e.targetUid.value&&(r.for=e.targetUid.value),l.disable===!0&&(r["aria-disabled"]="true"),r});function z(){const r=document.activeElement;let m=e.targetRef?.value;m&&(r===null||r.id!==e.targetUid.value)&&(m.hasAttribute("tabindex")===!0||(m=m.querySelector("[tabindex]")),m!==r&&m?.focus({preventScroll:!0}))}function R(){De(z)}function A(){Ie(z);const r=document.activeElement;r!==null&&e.rootRef.value.contains(r)&&r.blur()}function X(r){g!==null&&(clearTimeout(g),g=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,t("focus",r))}function W(r,m){g!==null&&clearTimeout(g),g=setTimeout(()=>{g=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,t("blur",r)),m?.())})}function Y(r){Oe(r),c.platform.is.mobile!==!0?(e.targetRef?.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),l.type==="file"&&(e.inputRef.value.value=null),t("update:modelValue",null),e.changeEvent===!0&&t("change",null),t("clear",l.modelValue),ze(()=>{const m=w.value;C(),w.value=m})}function D(r){[13,32].includes(r.keyCode)&&Y(r)}function Q(){const r=[];return o.prepend!==void 0&&r.push(v("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:G},o.prepend())),r.push(v("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},le())),a.value===!0&&l.noErrorIcon===!1&&r.push(T("error",[v(ge,{name:c.iconSet.field.error,color:"negative"})])),l.loading===!0||e.innerLoading.value===!0?r.push(T("inner-loading-append",o.loading!==void 0?o.loading():[v($e,{color:l.color})])):l.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&r.push(T("inner-clearable-append",[v(ge,{class:"q-field__focusable-action",name:l.clearIcon||c.iconSet.field.clear,tabindex:0,role:"button","aria-hidden":"false","aria-label":c.lang.label.clear,onKeyup:D,onClick:Y})])),o.append!==void 0&&r.push(v("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:G},o.append())),e.getInnerAppend!==void 0&&r.push(T("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&r.push(e.getControlChild()),r}function le(){const r=[];return l.prefix!==void 0&&l.prefix!==null&&r.push(v("div",{class:"q-field__prefix no-pointer-events row items-center"},l.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&r.push(e.getShadowControl()),e.getControl!==void 0?r.push(e.getControl()):o.rawControl!==void 0?r.push(o.rawControl()):o.control!==void 0&&r.push(v("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":l.autofocus===!0||void 0},o.control(y.value))),$.value===!0&&r.push(v("div",{class:N.value},ne(o.label,l.label))),l.suffix!==void 0&&l.suffix!==null&&r.push(v("div",{class:"q-field__suffix no-pointer-events row items-center"},l.suffix)),r.concat(ne(o.default))}function J(){let r,m;a.value===!0?b.value!==null?(r=[v("div",{role:"alert"},b.value)],m=`q--slot-error-${b.value}`):(r=ne(o.error),m="q--slot-error"):(l.hideHint!==!0||e.focused.value===!0)&&(l.hint!==void 0?(r=[v("div",l.hint)],m=`q--slot-hint-${l.hint}`):(r=ne(o.hint),m="q--slot-hint"));const Z=l.counter===!0||o.counter!==void 0;if(l.hideBottomSpace===!0&&Z===!1&&r===void 0)return;const n=v("div",{key:m,class:"q-field__messages col"},r);return v("div",{class:"q-field__bottom row items-start q-field__bottom--"+(l.hideBottomSpace!==!0?"animated":"stale"),onClick:G},[l.hideBottomSpace===!0?n:v(Te,{name:"q-transition--field-message"},()=>n),Z===!0?v("div",{class:"q-field__counter"},o.counter!==void 0?o.counter():e.computedCounter.value):null])}function T(r,m){return m===null?null:v("div",{key:r,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},m)}let te=!1;return _e(()=>{te=!0}),Ae(()=>{te===!0&&l.autofocus===!0&&i.focus()}),l.autofocus===!0&&Ce(()=>{i.focus()}),se(()=>{g!==null&&clearTimeout(g)}),Object.assign(i,{focus:R,blur:A}),function(){const m=e.getControl===void 0&&o.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":l.autofocus===!0||void 0,...L.value}:L.value;return v(e.tag.value,{ref:e.rootRef,class:[k.value,S.class],style:S.style,...m},[o.before!==void 0?v("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:G},o.before()):null,v("div",{class:"q-field__inner relative-position col self-stretch"},[v("div",{ref:e.controlRef,class:F.value,tabindex:-1,...e.controlEvents},Q()),E.value===!0?J():null]),o.after!==void 0?v("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:G},o.after()):null])}}const H=1e3,Ge=["start","center","end","start-force","center-force","end-force"],Ve=Array.prototype.filter,el=window.getComputedStyle(document.body).overflowAnchor===void 0?He:function(e,l){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const t=e.children||[];Ve.call(t,S=>S.dataset&&S.dataset.qVsAnchor!==void 0).forEach(S=>{delete S.dataset.qVsAnchor});const o=t[l];o?.dataset&&(o.dataset.qVsAnchor="")}))};function U(e,l){return e+l}function ve(e,l,t,o,S,i,c,g){const w=e===window?document.scrollingElement||document.documentElement:e,_=S===!0?"offsetWidth":"offsetHeight",a={scrollStart:0,scrollViewSize:-c-g,scrollMaxSize:0,offsetStart:-c,offsetEnd:-g};if(S===!0?(e===window?(a.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,a.scrollViewSize+=document.documentElement.clientWidth):(a.scrollStart=w.scrollLeft,a.scrollViewSize+=w.clientWidth),a.scrollMaxSize=w.scrollWidth,i===!0&&(a.scrollStart=(pe===!0?a.scrollMaxSize-a.scrollViewSize:0)-a.scrollStart)):(e===window?(a.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,a.scrollViewSize+=document.documentElement.clientHeight):(a.scrollStart=w.scrollTop,a.scrollViewSize+=w.clientHeight),a.scrollMaxSize=w.scrollHeight),t!==null)for(let b=t.previousElementSibling;b!==null;b=b.previousElementSibling)b.classList.contains("q-virtual-scroll--skip")===!1&&(a.offsetStart+=b[_]);if(o!==null)for(let b=o.nextElementSibling;b!==null;b=b.nextElementSibling)b.classList.contains("q-virtual-scroll--skip")===!1&&(a.offsetEnd+=b[_]);if(l!==e){const b=w.getBoundingClientRect(),C=l.getBoundingClientRect();S===!0?(a.offsetStart+=C.left-b.left,a.offsetEnd-=C.width):(a.offsetStart+=C.top-b.top,a.offsetEnd-=C.height),e!==window&&(a.offsetStart+=a.scrollStart),a.offsetEnd+=a.scrollMaxSize-a.offsetStart}return a}function qe(e,l,t,o){l==="end"&&(l=(e===window?document.body:e)[t===!0?"scrollWidth":"scrollHeight"]),e===window?t===!0?(o===!0&&(l=(pe===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-l),window.scrollTo(l,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,l):t===!0?(o===!0&&(l=(pe===!0?e.scrollWidth-e.offsetWidth:0)-l),e.scrollLeft=l):e.scrollTop=l}function ee(e,l,t,o){if(t>=o)return 0;const S=l.length,i=Math.floor(t/H),c=Math.floor((o-1)/H)+1;let g=e.slice(i,c).reduce(U,0);return t%H!==0&&(g-=l.slice(i*H,t).reduce(U,0)),o%H!==0&&o!==S&&(g-=l.slice(o,c*H).reduce(U,0)),g}const ll={virtualScrollSliceSize:{type:[Number,String],default:10},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},ml={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...ll};function Sl({virtualScrollLength:e,getVirtualScrollTarget:l,getVirtualScrollEl:t,virtualScrollItemSizeComputed:o}){const S=K(),{props:i,emit:c,proxy:g}=S,{$q:w}=g;let _,a,b,C=[],h;const E=V(0),M=V(0),k=V({}),F=V(null),$=V(null),N=V(null),y=V({from:0,to:0}),L=q(()=>i.tableColspan!==void 0?i.tableColspan:100);o===void 0&&(o=q(()=>i.virtualScrollItemSize));const z=q(()=>o.value+";"+i.virtualScrollHorizontal),R=q(()=>z.value+";"+i.virtualScrollSliceRatioBefore+";"+i.virtualScrollSliceRatioAfter);j(R,()=>{T()}),j(z,A);function A(){J(a,!0)}function X(n){J(n===void 0?a:n)}function W(n,u){const s=l();if(s==null||s.nodeType===8)return;const x=ve(s,t(),F.value,$.value,i.virtualScrollHorizontal,w.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd);b!==x.scrollViewSize&&T(x.scrollViewSize),D(s,x,Math.min(e.value-1,Math.max(0,parseInt(n,10)||0)),0,Ge.indexOf(u)!==-1?u:a!==-1&&n>a?"end":"start")}function Y(){const n=l();if(n==null||n.nodeType===8)return;const u=ve(n,t(),F.value,$.value,i.virtualScrollHorizontal,w.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd),s=e.value-1,x=u.scrollMaxSize-u.offsetStart-u.offsetEnd-M.value;if(_===u.scrollStart)return;if(u.scrollMaxSize<=0){D(n,u,0,0);return}b!==u.scrollViewSize&&T(u.scrollViewSize),Q(y.value.from);const B=Math.floor(u.scrollMaxSize-Math.max(u.scrollViewSize,u.offsetEnd)-Math.min(h[s],u.scrollViewSize/2));if(B>0&&Math.ceil(u.scrollStart)>=B){D(n,u,s,u.scrollMaxSize-u.offsetEnd-C.reduce(U,0));return}let p=0,d=u.scrollStart-u.offsetStart,O=d;if(d<=x&&d+u.scrollViewSize>=E.value)d-=E.value,p=y.value.from,O=d;else for(let f=0;d>=C[f]&&p<s;f++)d-=C[f],p+=H;for(;d>0&&p<s;)d-=h[p],d>-u.scrollViewSize?(p++,O=d):O=h[p]+d;D(n,u,p,O)}function D(n,u,s,x,B){const p=typeof B=="string"&&B.indexOf("-force")!==-1,d=p===!0?B.replace("-force",""):B,O=d!==void 0?d:"start";let f=Math.max(0,s-k.value[O]),P=f+k.value.total;P>e.value&&(P=e.value,f=Math.max(0,P-k.value.total)),_=u.scrollStart;const oe=f!==y.value.from||P!==y.value.to;if(oe===!1&&d===void 0){r(s);return}const{activeElement:me}=document,I=N.value;oe===!0&&I!==null&&I!==me&&I.contains(me)===!0&&(I.addEventListener("focusout",le),setTimeout(()=>{I?.removeEventListener("focusout",le)})),el(I,s-f);const Re=d!==void 0?h.slice(f,s).reduce(U,0):0;if(oe===!0){const re=P>=y.value.from&&f<=y.value.to?y.value.to:P;y.value={from:f,to:re},E.value=ee(C,h,0,f),M.value=ee(C,h,P,e.value),requestAnimationFrame(()=>{y.value.to!==P&&_===u.scrollStart&&(y.value={from:y.value.from,to:P},M.value=ee(C,h,P,e.value))})}requestAnimationFrame(()=>{if(_!==u.scrollStart)return;oe===!0&&Q(f);const re=h.slice(f,s).reduce(U,0),ie=re+u.offsetStart+E.value,Se=ie+h[s];let ce=ie+x;if(d!==void 0){const Be=re-Re,fe=u.scrollStart+Be;ce=p!==!0&&fe<ie&&Se<fe+u.scrollViewSize?fe:d==="end"?Se-u.scrollViewSize:ie-(d==="start"?0:Math.round((u.scrollViewSize-h[s])/2))}_=ce,qe(n,ce,i.virtualScrollHorizontal,w.lang.rtl),r(s)})}function Q(n){const u=N.value;if(u){const s=Ve.call(u.children,f=>f.classList&&f.classList.contains("q-virtual-scroll--skip")===!1),x=s.length,B=i.virtualScrollHorizontal===!0?f=>f.getBoundingClientRect().width:f=>f.offsetHeight;let p=n,d,O;for(let f=0;f<x;){for(d=B(s[f]),f++;f<x&&s[f].classList.contains("q-virtual-scroll--with-prev")===!0;)d+=B(s[f]),f++;O=d-h[p],O!==0&&(h[p]+=O,C[Math.floor(p/H)]+=O),p++}}}function le(){N.value?.focus()}function J(n,u){const s=1*o.value;(u===!0||Array.isArray(h)===!1)&&(h=[]);const x=h.length;h.length=e.value;for(let p=e.value-1;p>=x;p--)h[p]=s;const B=Math.floor((e.value-1)/H);C=[];for(let p=0;p<=B;p++){let d=0;const O=Math.min((p+1)*H,e.value);for(let f=p*H;f<O;f++)d+=h[f];C.push(d)}a=-1,_=void 0,E.value=ee(C,h,0,y.value.from),M.value=ee(C,h,y.value.to,e.value),n>=0?(Q(y.value.from),ze(()=>{W(n)})):m()}function T(n){if(n===void 0&&typeof window<"u"){const d=l();d!=null&&d.nodeType!==8&&(n=ve(d,t(),F.value,$.value,i.virtualScrollHorizontal,w.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd).scrollViewSize)}b=n;const u=parseFloat(i.virtualScrollSliceRatioBefore)||0,s=parseFloat(i.virtualScrollSliceRatioAfter)||0,x=1+u+s,B=n===void 0||n<=0?1:Math.ceil(n/o.value),p=Math.max(1,B,Math.ceil((i.virtualScrollSliceSize>0?i.virtualScrollSliceSize:10)/x));k.value={total:Math.ceil(p*x),start:Math.ceil(p*u),center:Math.ceil(p*(.5+u)),end:Math.ceil(p*(1+u)),view:B}}function te(n,u){const s=i.virtualScrollHorizontal===!0?"width":"height",x={["--q-virtual-scroll-item-"+s]:o.value+"px"};return[n==="tbody"?v(n,{class:"q-virtual-scroll__padding",key:"before",ref:F},[v("tr",[v("td",{style:{[s]:`${E.value}px`,...x},colspan:L.value})])]):v(n,{class:"q-virtual-scroll__padding",key:"before",ref:F,style:{[s]:`${E.value}px`,...x}}),v(n,{class:"q-virtual-scroll__content",key:"content",ref:N,tabindex:-1},u.flat()),n==="tbody"?v(n,{class:"q-virtual-scroll__padding",key:"after",ref:$},[v("tr",[v("td",{style:{[s]:`${M.value}px`,...x},colspan:L.value})])]):v(n,{class:"q-virtual-scroll__padding",key:"after",ref:$,style:{[s]:`${M.value}px`,...x}})]}function r(n){a!==n&&(i.onVirtualScroll!==void 0&&c("virtualScroll",{index:n,from:y.value.from,to:y.value.to-1,direction:n<a?"decrease":"increase",ref:g}),a=n)}T();const m=xe(Y,w.platform.is.ios===!0?120:35);Pe(()=>{T()});let Z=!1;return _e(()=>{Z=!0}),Ae(()=>{if(Z!==!0)return;const n=l();_!==void 0&&n!==void 0&&n!==null&&n.nodeType!==8?qe(n,_,i.virtualScrollHorizontal,w.lang.rtl):W(a)}),se(()=>{m.cancel()}),Object.assign(g,{scrollTo:W,reset:A,refresh:X}),{virtualScrollSliceRange:y,virtualScrollSliceSizeComputed:k,setVirtualScrollSize:T,onVirtualScrollEvt:m,localResetVirtualScroll:J,padVirtualScroll:te,scrollTo:W,reset:A,refresh:X}}const gl={name:String};function hl(e){return q(()=>e.name||e.for)}const tl=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,ol=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,rl=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,il=/[a-z0-9_ -]$/i;function bl(e){return function(t){if(t.type==="compositionend"||t.type==="change"){if(t.target.qComposing!==!0)return;t.target.qComposing=!1,e(t)}else t.type==="compositionupdate"&&t.target.qComposing!==!0&&typeof t.data=="string"&&(Le.is.firefox===!0?il.test(t.data)===!1:tl.test(t.data)===!0||ol.test(t.data)===!0||rl.test(t.data)===!0)===!0&&(t.target.qComposing=!0)}}export{gl as a,fl as b,hl as c,vl as d,bl as e,Je as f,pl as g,ml as h,Sl as i,dl as u};
